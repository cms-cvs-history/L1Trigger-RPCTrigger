
process genDigi  = {


   service = MessageLogger
   {
      untracked vstring destinations = {"cout"}
#      
#      untracked vstring categories = { "FwkJob" }
#
#      untracked PSet cout = 
#      { 
#         untracked PSet default = { untracked int32 limit = 0 }    # kill all messages in the log
#         untracked PSet FwkJob  = { untracked int32 limit = -1 }  # except *all* of FwkJob's	  
#      }
      
      #untracked vstring fwkJobReports = {"FrameworkJobReport.xml"}
   }


#  module get = EventSetupRecordDataGetter {
#       untracked bool verbose=true
#       VPSet toGet = {
#          { string record = "IdealGeometryRecord"
#            vstring data = { "DDCompactView" }
#          } ,
#          { string record = "MuonNumberingRecord"
#            vstring data = { "MuonDDDConstants" }
#          }
#       }
#    }


   service = Timing {}


   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 135799753
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 123456789
	 untracked uint32 g4SimHits = 333
         untracked uint32 muonRPCDigis = 21
      }
   }



   include "SimGeneral/HepPDTESSource/data/pdt.cfi"

   untracked PSet maxEvents = {untracked int32 input = 100}

source = FlatRandomPtGunSource
    {
      untracked uint32 firstRun  =  2
      untracked PSet  PGunParameters =
      {
      # you can request more than 1 particle
         #untracked vint32  PartID = { 211, 11, -13 }
         untracked vint32 PartID = {-13}
         untracked double MinEta = -1.4
         untracked double MaxEta = 1.4
      #
      # phi must be given in radians
      #
         untracked double MinPhi = -3.14159265358979323846
         untracked double MaxPhi =  3.14159265358979323846
         untracked double MinPt  = 50.
         untracked double MaxPt  = 140.
      }
      untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
   }

   # Vtx Smearing
   include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"

   #Geometry
   #
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
   include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
   include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

   #Magnetic Field
   #
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # Step 2 : CMS Detector Simulation

   # CMS Geant4-based Det.Simulation module (OscarProducer)
   #
 #  include "SimG4Core/Application/data/SimG4Object.cfi"
    include "SimG4Core/Configuration/data/SimG4Core.cff"
   include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
   include "Geometry/RPCGeometry/data/rpcGeometry.cfi" 
   include "SimMuon/RPCDigitizer/data/muonrpcdigi.cfi"

   include "SimGeneral/MixingModule/data/mixNoPU.cfi"

   # Step 4 : Output module
   #
   module GEN-SIM-DIGI = PoolOutputModule
   {
      untracked string fileName = "digi100.root"
   }
   
   path p1 = { VtxSmeared, g4SimHits, mix, muonRPCDigis }
   endpath outpath = { GEN-SIM-DIGI }

}



