
process genDigi  = {


  service = MessageLogger { 
    untracked vstring destinations = {   "detailedInfo.txt"}
#    untracked vstring destinations = {  "cout" }
#                             , "normal.txt"
#                           }
    untracked PSet detailedInfo.txt = {untracked string threshold = "DEBUG"    } 
    untracked vstring debugModules = {  "*" }
  }

   service = Timing {}


   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 135799753
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 123456789
	 untracked uint32 g4SimHits = 333
         untracked uint32 simMuonRPCDigis = 21
      }
   }



   include "SimGeneral/HepPDTESSource/data/pdt.cfi"

   untracked PSet maxEvents = {untracked int32 input = 100}

source = FlatRandomPtGunSource
    {
      untracked uint32 firstRun  =  2
      untracked PSet  PGunParameters =
      {
      # you can request more than 1 particle
         #untracked vint32  PartID = { 211, 11, -13 }
         untracked vint32 PartID = {-13}
         untracked double MinEta = -1.4
         untracked double MaxEta = 1.4
      #
      # phi must be given in radians
      #
         untracked double MinPhi = -3.14159265358979323846
         untracked double MaxPhi =  3.14159265358979323846
         untracked double MinPt  = 50.
         untracked double MaxPt  = 140.
      }
      untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
   }

   # Vtx Smearing
   include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"

   #Geometry
   #
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
   include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
   include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

   #Magnetic Field
   #
   #include "Configuration/StandardSequences/data/UseZeroBField.cff"
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   # Step 2 : CMS Detector Simulation

   # CMS Geant4-based Det.Simulation module (OscarProducer)
   #
 #  include "SimG4Core/Application/data/SimG4Object.cfi"
    include "SimG4Core/Configuration/data/SimG4Core.cff"
   include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
   include "Geometry/RPCGeometry/data/rpcGeometry.cfi" 
  # include "SimMuon/RPCDigitizer/data/muonrpcdigi.cfi"
   include "SimMuon/RPCDigitizer/data/muonRPCDigis.cfi"
   include "Configuration/StandardSequences/data/FakeConditions.cff"

   include "SimGeneral/MixingModule/data/mixNoPU.cfi"

   # Step 4 : Output module
   #
   module GEN-SIM-DIGI = PoolOutputModule
   {
      untracked string fileName = "digi0T.root"
   }
   
   path p1 = { VtxSmeared, g4SimHits, mix, simMuonRPCDigis }
   endpath outpath = { GEN-SIM-DIGI }

}



